---
- name: prevent the gridengine install dialogs
  shell: echo {{ item }} | debconf-set-selections
  with_items:
  - "* shared/gridenginemaster select {{sge_server_name}}"
  - "* shared/gridenginecell select default"
  - "* shared/gridengineconfig select true"
  - "* postfix/main_mailer_type select No configuration"
  when: ansible_os_family == "Debian"

- name: install gridengine packages on Debian
  apt: name={{ item }} state=installed
  with_items:
    - gridengine-master
    - gridengine-exec
    - gridengine-client
  when: ansible_os_family == "Debian"

- name: Set Debian facts
  set_fact:
    SGE_ROOT: /var/lib/gridengine
    EXEC_SERVICE: gridengine-exec
  when: ansible_os_family == "Debian"
